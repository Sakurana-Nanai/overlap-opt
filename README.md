# overlap-opt
## パラメータを最適化（連続音用）
vlabelerで連続音のパラメータ最適化を行うプラグインです。
This is a plugin that optimizes parameters for Japanese VCV in vlabeler.
这是一个使用vlabeler优化日语连续音（VCV）参数的插件。

### このプラグインについて
UTAU原音設定用ソフトsetParamプラグインとして配布されている巽さん制作の["パラメータ調整さん"](https://bowlroll.net/file/83065)をvlabelerでも使いたい！
……と思ったので、僭越ながら作らせていただきました。
プログラミング初心者なので、バグとかいろいろあると思います、すみません……
パラメータ計算の仕様は大体同じだと信じたい……
一応、日本語・英語・中国語対応です。
(This plugin supports English) （此插件支持中文显示）

### 導入方法
1. [vlabeler](https://vlabeler.com/)をダウンロード・インストールします。
2. vlabelerを実行して、ツール ＞ 一括編集 ＞ プラグインマネージャー を開いて、「ディレクトリを開く」を押します。
3. そこに、overlap-optフォルダを置いて、プラグインマネージャーで「再読み込み」をしてください。

### 使い方（日本語連続音を原音設定している前提）
1. 任意のプロジェクトファイルを開く、または新規作成します。
2. すでに原音設定がほぼ終わっている状態で、ツール ＞ 一括編集 ＞ パラメータを最適化（連続音用）を押します。

**・エントリフィルター**
他のプラグインにあるエントリフィルターと同じで、処理を実行する範囲を指定できます。
ちなみに、***このフィルターは後者の「無視をする」系の項目よりあとに働きます。***

**・最適化方式**
書いてあることはだいたい"パラメータ調整さん"のreadmeと同じです。（巽さんに感謝）
1. オーバーラップ値を先行発声値の3分の1にする
　そのままです。1/3にしたら、小数点第二位で四捨五入されている……はずです。
2. 先行発声値を一括設定する（先行発声の位置はそのまま）
　この方式を指定した際に、この下にある **先行発声値を入力** フィールドが有効になるので、そこに新しい値を入力してください。
　オーバーラップの値は、指定した先行発声値の1/3になります。
　先行発声・固定範囲・右ブランクは変わらない……はずです。
3. 先行発声とオーバーラップの位置をそのままにしつつ比率を3：1にする
　左ブランク値を調節して、先行発声値とオーバーラップ値の比率を3：1にします。
　オーバーラップ・先行発声・固定範囲・右ブランクの位置はそのまま……だと思います。

**オプション**

**- 先行発声値を入力（方式２）**
最適化方式２の時だけ、フィールドが有効になります。
0以上の値じゃないと入れられないです。

**- 語頭エントリを無視（- ○）**
オンにすると、「- あ」などの語頭エントリを自動的に処理対象外にします。
Suffix（表情名や音階名）がすでについていても大丈夫です。

**- 単独音（CVエントリ）を無視（ひらがなとカタカナのみ）**
オンにすると、「あ」や「ん」などのひらがなのエントリを処理対象外にします。
ひらがなとカタカナしか除外できません。ローマ字だと無理です。
（拗音とか小さい「ぁぃぅぇぉ」も除外できてると思いたい）
これも、Suffixがすでについていても大丈夫です。

**- VCエントリを無視（ローマ字連続音はOFF推奨）**
オンにすると、VCエントリを処理対象外にします。ローマ字連続音はOFFにした方がいいです。
①半角英小文字で始まる　②その後に任意の空白と半角英小文字が続く
という条件を満たしていればVC音素判定されます。
英大文字だと判定されません。なので「a R」とかは対象外です。
もちろんこれも、Suffixがすでについていても大丈夫です。

### サポートなど
バグとかなにかあったらやさしく教えてください。
何度も言いますが **初心者なので** 強めに言われると拗ねて泣きます（努力はする）
それから、vlabeler開発元の科林さんや、プラグイン元ネタの巽さんに、このプラグインに関する問い合わせはしないようお願いします。

### ライセンス
1. 再配布は禁止します。 Redistribution is prohibited.
2. 改変ファイルの配布は禁止します。 Distribution of modified files is prohibited.
3. 個人での改変は許可しますが、改変したファイルの再配布はできません。 Personal modifications are permitted, but modified files may not be redistributed.

### 謝辞
このプログラムの開発に際し、多大なご協力をいただいた以下の方々に心より感謝申し上げます。　
- 科林さん（[sdercolin](https://github.com/sdercolin)）
- 巽さん（Twitter(X)：@tatsu3）

また、このプラグインにはChatGPT、Microsoft Copilot、ClaudeなどのチャットAIの助けも借りています。

